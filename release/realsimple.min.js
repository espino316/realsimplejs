Date.now||(Date.now=function(){return(new Date).getTime()}),JSON.tryParse=function(str,out){try{return out.data=JSON.parse(str),!0}catch(ex){return!1}};var hiddenEscapeTextArea=document.createElement("textarea");if(String.prototype.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)})},String.prototype.escapeHTML=function(){if(void 0===hiddenEscapeTextArea)var hiddenEscapeTextArea=document.createElement("textarea");return hiddenEscapeTextArea.textContent=this,hiddenEscapeTextArea.innerHTML},String.prototype.unescapeHTML=function(){if(void 0===hiddenEscapeTextArea)var hiddenEscapeTextArea=document.createElement("textarea");return hiddenEscapeTextArea.innerHTML=this,hiddenEscapeTextArea.textContent},String.prototype.encodeUri=function(){return encodeURIComponent(this)},String.prototype.decodeUri=function(){return decodeURIComponent(this)},String.prototype.base64Encode=function(){var self=this;return self=(self=self.encodeUri()).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}),btoa(self)},String.prototype.base64Decode=function(){var self=this;try{self=atob(self)}catch(ex){return void console.error("No base 64 data")}return self=(self=(self=Array.prototype.map.call(self,function(item){return"%"+("00"+item.charCodeAt(0).toString(16)).slice(-2)})).join("")).decodeUri()},String.prototype.escapeRegExp=function(){return this.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},String.prototype.replaceAll=function(find,replace){return this.replace(new RegExp(find.escapeRegExp(),"g"),replace)},String.prototype.left=function(n){return n<=0?"":n>this.length?this:this.substring(0,n)},String.prototype.right=function(n){if(n<=0)return"";if(n>this.length)return this;var iLen=this.length;return this.substring(iLen,iLen-n)},String.prototype.contains=function(str){return-1<this.indexOf(str)},String.prototype.toHex=function(){var i,hex="0x";for(i=0;i<this.length;i++)hex+=""+this.charCodeAt(i).toString(16);return hex},String.prototype.fromHex=function(hex){hex=hex.toString();var i,str="";for(i=0;i<hex.length;i+=2)str+=String.fromCharCode(parseInt(hex.substr(i,2),16));return str},HTMLElement.prototype.hide=function(){this.style.display="none"},HTMLElement.prototype.show=function(){this.style.display="block"},HTMLElement.prototype.hasClass=function(className){var rgx=new RegExp("(\\s|^)"+className+"(\\s|$)");return null!==this.className.match(rgx)},HTMLElement.prototype.addClass=function(className){this.hasClass(className)||(this.className+=" "+className)},HTMLElement.prototype.removeClass=function(className){if(this.hasClass(className)){var reg=new RegExp("(\\s|^)"+className+"(\\s|$)");this.className=this.className.replace(reg," ")}},HTMLElement.prototype.addText=function(text){var t=document.createTextNode(text);this.appendChild(t)},HTMLElement.prototype.clear=function(){for(;this.firstChild;)this.removeChild(this.firstChild)},HTMLElement.prototype.animate=function(options){var style=new CssStyle,animateClass=new CssRule("animateclass"+options.name);animateClass.addProperty("-webkit-animation-name",options.name),animateClass.addProperty("-webkit-animation-duration",options.duration),animateClass.addProperty("animation-name",options.name),animateClass.addProperty("animation-duration",options.duration),animateClass.addProperty("animation-fill-mode","forwards"),animateClass.addProperty("-webkit-animation-fill-mode","forwards"),style.addClass(animateClass);var animateFrames=new CssAnimation(options.name),keys=Object.keys(options.from),i=0;for(i=0;i<keys.length;i++)animateFrames.from.addProperty(keys[i],options.from[keys[i]]);for(keys=Object.keys(options.to),i=i=0;i<keys.length;i++)animateFrames.to.addProperty(keys[i],options.to[keys[i]]);style.addClass(animateFrames),style.setStyle(),this.removeClass(animateClass.className),this.offsetWidth,this.addClass(animateClass.className)},Math.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},Array.prototype.getUnique=function(){for(var u={},a=[],i=0,l=this.length;i<l;++i)u.hasOwnProperty(this[i])||(a.push(this[i]),u[this[i]]=1);return a},Array.prototype.encodeUri=function(){var str=JSON.stringify(this);return encodeURIComponent(str)},Array.prototype.where=function(item,value){var result=[];return this.forEach(function(obj,index,arr){obj[item]==value&&result.push(obj)}),result},Array.prototype.andWhere=function(item,value){var result=[];return this.forEach(function(obj,index,arr){obj[item]==value&&result.push(obj)}),result},Array.prototype.first=function(){return this[0]},Array.prototype.like=function(item,value){var result=[];return this.forEach(function(obj,index,arr){String(obj[item]).contains(value)&&result.push(obj)}),result},Array.prototype.andLike=function(item,value){var result=[];return this.forEach(function(obj,index,arr){String(obj[item]).contains(value)&&result.push(obj)}),result},Array.prototype.indexOf=function(item,value){var result=-1;return this.forEach(function(elem,index,arr){elem[item]==value&&(result=index)}),result},Array.prototype.contains=function(value){var result=!1;return this.forEach(function(elem,index,self){elem==value&&(result=!0)}),result},void 0===Array.prototype.forEach){var self=this;Array.prototype.forEach=function(fn){var i,len;for(len=self.length,i=0;i<len;i++)fn(self[i],i,self)}}function RS(){var self=this;this.config=null;var locationHashBusy=!1,storedHash=window.location.hash;this.assignValue=function(bindable,value){if(null!==bindable&&null!==value){"string"==typeof value&&"{}"!=value&&"null"!=value&&(value="'"+value+"'");var parts=bindable.split("."),code="";if(1<parts.length){code="window";parts.forEach(function(item,index,collection){code+="['"+item+"']"}),code+=" = "+value+";"}else code=bindable+" = "+value+";";new Function(code)()}},this.returnValue=function(bindable){if(null===bindable)return null;var parts=bindable.split(".");{if(0<parts.length)return this.evalUndefined(parts[0])?null:this.evalUndefined(bindable)?null:new Function("return "+bindable+";")();if(this.evalUndefined(bindable))return null}},this.evalUndefined=function(bindable){return new Function("return ( typeof "+bindable+" == 'undefined' );")()},this.defineGetter=function(obj,propName,fnGet){var parts=obj.split("."),code="";if(1<parts.length){code="window";parts.forEach(function(item,index,collection){code+="['"+item+"']"}),code+=".__defineGetter__( propName, fnGet );"}else code+="window['"+obj+"'].__defineGetter__( propName, fnGet );";new Function("propName","fnGet",code)(propName,fnGet)},this.defineSetter=function(obj,propName,fnSet){var parts=obj.split("."),code="";if(1<parts.length){code="window";parts.forEach(function(item,index,collection){code+="['"+item+"']"}),code+=".__defineSetter__( propName, fnSet );"}else code+="window['"+obj+"'].__defineSetter__( propName, fnSet );";new Function("propName","fnSet",code)(propName,fnSet)},self.forEach=function(obj,fn){switch(typeof obj){case"object":if("number"==typeof obj.length){var i,arr=[];for(i=0;i<obj.length;i++)arr.push(obj[i]);arr.forEach(fn)}else(obj=new RSObject(obj)).forEach(fn);break;case"array":obj.forEach(fn);break;default:return null}},self.onReady=function(fn){document.addEventListener("DOMContentLoaded",function(event){fn()})},self.removeHash=function(){window.location.hash=""};function hashChanged(locationHash){!1===locationHashBusy&&function(locationHash){if("#"!=locationHash&&""!==locationHash){if(locationHashBusy=!0,"undefined"!==self.config.routes&&null!==self.config.routes){locationHash=(locationHash=String(locationHash)).replace("#","");var regParam=new RegExp(":[a-zA-Z0-9]+","gi"),params=null,urlFormat=null,url=null,newUrl=null,fnEach=function(item,key,collection){var tmp=key;if(null!==(params=key.match(regParam))){if(params.forEach(function(str,idx,collection){key=key.replace(str,"[a-zA-Z0-9]+")}),null!==new RegExp(key,"i").exec(locationHash))return urlFormat=tmp,url=locationHash,void(newUrl=item)}else if(key==locationHash)return urlFormat=key,url=locationHash,void(newUrl=item)};if(new RSObject(self.config.routes).forEach(fnEach),null!==urlFormat){var segmentsUrlFormat=urlFormat.split("/"),segmentsUrl=url.split("/"),map={};fnEach=function(item,index,collection){map[item]=segmentsUrl[index]};segmentsUrlFormat.forEach(fnEach),fnEach=function(item,index,collection){newUrl=newUrl.replaceAll(item,map[item])},null!==(params=urlFormat.match(regParam))&&params.forEach(fnEach)}else console.warn(locationHash+" no route found."),newUrl=locationHash;var args=newUrl.split("/");if(2<=args.length){var controller=args[0],action=args[1];return args.splice(0,2),void 0===window[controller]?console.error("Controlador no definido ["+controller+"]"):void 0===window[controller][action]?console.error("Funcion no definida ["+controller+"."+action+"]"):window[controller][action].apply(this,args),locationHashBusy=!1}}locationHashBusy=!1}}(locationHash)}function hashChangedTick(){window.location.hash!=storedHash&&(storedHash=window.location.hash,hashChanged(storedHash))}this.readConfig=function(configUrl){if(void 0===http)var http=new Http;void 0!==configUrl?http.get(configUrl,null,function(res){var response=res.data;if("object"==typeof response)self.config=response;else try{var jsonResponse=JSON.parse(response);response=jsonResponse,self.config=jsonResponse}catch(ex){return console.error("Config is not json or is unavailable"),void console.error(response)}void 0!==self.config&&(void 0!==self.config.options.useRouting&&self.config.options.useRouting&&window.setInterval(hashChangedTick,300),void 0!==self.config.options.useMVC&&self.config.options.useMVC&&dom.bindData())},function(statusText){console.error(statusText),alert(statusText)}):console.error("Configuration file undefined")}}Array.prototype.sortAsc=function(property){if(0!==this.length){var row=this[0];void 0===row[property]&&console.error(property+" no part of object.",this),window.__tempFilter=property;function getValue(v){return Math.isNumeric(v)?1*v:v}return Math.isNumeric(row[property])?this.sort(function(a,b){var filter=window.__tempFilter,_a=a[filter],_b=b[filter];return getValue(_a)-getValue(_b)}):this.sort(function(a,b){var filter=window.__tempFilter,_a=a[filter],_b=b[filter];return _a.localeCompare(_b)})}console.warn("No data to sort",this,property)},Array.prototype.sortDesc=function(property){if(0!==this.length){var row=this[0];void 0===row[property]&&console.error(property+" no part of object.",this),window.__tempFilter=property;function getValue(v){return Math.isNumeric(v)?1*v:v}return Math.isNumeric(row[property])?this.sort(function(a,b){var filter=window.__tempFilter,_a=a[filter],_b=b[filter];return getValue(_b)-getValue(_a)}):this.sort(function(a,b){var filter=window.__tempFilter,_a=a[filter];return b[filter].localeCompare(_a)})}console.warn("No data to sort",this,property)},window.BreakException={},Array.prototype.each=function(fn){try{var i,len;for(len=this.length,i=0;i<len;i++)fn(this[i],i,this)}catch(e){if(e!==BreakException)throw e}},Array.prototype.sum=function(prop){if(0===this.length)return 0;if("object"==typeof this[0]){if(this[0].hasOwnProperty(prop)){var sum=0;return this.forEach(function(item){sum+=Number(item[prop])}),sum}console.error("Items does not have a "+prop+" property.")}else console.error("Items are not objects")},window.Exception=function(message,reference){this.message=message,this.reference=reference},RS.CookieHelper=function(){var self=this;self.set=function(name,value,days){days=days||1/24;var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var cookie=name+"="+value+"; expires="+("expires="+date.toUTCString());document.cookie=cookie},self.delete=function(name){var _cookies=self.get(name);if(null===_cookies)return null;function fnDelete(name){var expiresAt="Thu, 01 Jan 1970 00:00:01 GMT",cookie=name+"=0; expires="+expiresAt;document.cookie=cookie,cookie=name+"=0; path=/;domain="+window.location.host+"; expires="+expiresAt,document.cookie=cookie}if(void 0!==_cookies.length){if(!(0<_cookies.length))return null;_cookies.forEach(function(item,index,collection){fnDelete(item.name)})}else fnDelete(name)},self.get=function(name){if(""===document.cookie)return null;var cookies=document.cookie.split("; "),result=[],isFound=!1,itemResult=null;return cookies.forEach(function(value,index,array){var keyValue=value.split("="),item={};if(item.name=keyValue[0],item.value=keyValue[1],void 0!==name){if(name==item.name)return itemResult=item,void(isFound=!0)}else result.push(item)}),isFound?itemResult:void 0!==name?null:result}};