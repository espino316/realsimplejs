!function(){"use strict";function e(e){this.ruleName=e,this.properties={}}function t(t){this.name=t,this.from=new e("from"),this.to=new e("to")}function n(){}function r(e){null===e&&(e={});var t=this,n={},r=function(n,r,o){t[n]=e[n]};"undefined"!=typeof e&&(n=Object.keys(e),n.forEach(r)),t.clone=function(e,n){var r={},o=function(r,o,a){"object"==typeof e[r]?(n[r]={},t.clone(e[r],n[r])):n[r]=e[r]};r=Object.keys(e),r.forEach(o)},t.copy=function(e){var n={},r=function(n,r,o){e[n]=t[n]};n=Object.keys(t),n.forEach(r)},t.clear=function(){var e=function(e,n,r){t[n]=null};t.forEach(e)}}function o(){var e=this;this.config=null;var t=!1,n=window.location.hash;this.assignValue=function(e,t){if(null!==e&&null!==t){"string"==typeof t&&"{}"!=t&&"null"!=t&&(t="'"+t+"'");var n=e.split("."),r="";if(n.length>1){r="window";var o=function(e,t,n){r+="['"+e+"']"};n.forEach(o),r+=" = "+t+";"}else r=e+" = "+t+";";var a=new Function(r);a()}},this.returnValue=function(e){var t=this,n=e.split(".");if(n.length>0){if(t.evalUndefined(n[0]))return null;if(t.evalUndefined(e))return null;var r="return "+e+";",o=new Function(r);return o()}return t.evalUndefined(e)?null:void 0},this.evalUndefined=function(e){var t="return ( typeof "+e+" == 'undefined' );",n=new Function(t);return n()},this.defineGetter=function(e,t,n){var r=e.split("."),o="";if(r.length>1){o="window";var a=function(e,t,n){o+="['"+e+"']"};r.forEach(a),o+=".__defineGetter__( propName, fnGet );"}else o+="window['"+e+"'].__defineGetter__( propName, fnGet );";var i=new Function("propName","fnGet",o);i(t,n)},this.defineSetter=function(e,t,n){var r=e.split("."),o="";if(r.length>1){o="window";var a=function(e,t,n){o+="['"+e+"']"};r.forEach(a),o+=".__defineSetter__( propName, fnSet );"}else o+="window['"+e+"'].__defineSetter__( propName, fnSet );";var i=new Function("propName","fnSet",o);i(t,n)},e.forEach=function(e,t){var n=typeof e;switch(n){case"object":if("number"==typeof e.length){var o,a=[];for(o=0;o<e.length;o++)a.push(e[o]);a.forEach(t)}else e=new r(e),e.forEach(t);break;case"array":e.forEach(t);break;default:return null}},e.onReady=function(e){document.addEventListener("DOMContentLoaded",function(t){e()})},e.removeHash=function(){window.location.hash=""};var o=function(n){if("#"!=n&&""!==n){if(t=!0,"undefined"!==e.config.routes&&null!==e.config.routes){n=String(n),n=n.replace("#","");var o=":[a-zA-Z0-9]+",a=new RegExp(o,"gi"),i=null,l=null,u=null,c=null,s=function(e,t,r){var o=t;i=t.match(a);var s=function(e,n,r){t=t.replace(e,"[a-zA-Z0-9]+")};if(null!==i){i.forEach(s);var d=new RegExp(t,"i"),f=d.exec(n);if(null!==f)return l=o,u=n,void(c=e)}else if(t==n)return l=t,u=n,void(c=e)},d=new r(e.config.routes);if(d.forEach(s),null!==l){var f=l.split("/"),p=u.split("/"),h={},s=function(e,t,n){h[e]=p[t]};f.forEach(s),s=function(e,t,n){c=c.replaceAll(e,h[e])},i=l.match(a),null!==i&&i.forEach(s)}else console.log(n+" no route found."),c=n;var v=c.split("/");if(v.length>=2){var y=v[0],g=v[1];return v.splice(0,2),"undefined"==typeof window[y]?(console.error("Controlador no definido ["+y+"]"),void(t=!1)):"undefined"==typeof window[y][g]?(console.error("Funcion no definida ["+y+"."+g+"]"),void(t=!1)):(window[y][g].apply(this,v),void(t=!1))}}t=!1}},a=function(e){t===!1&&o(e)},i=function(){window.location.hash!=n&&(n=window.location.hash,a(n))},l=function(){window.setInterval(i,300)};this.readConfig=function(t){if("undefined"==typeof n)var n=new d;var r=function(t){var n=t.data;if("object"==typeof n)e.config=n;else try{var r=JSON.parse(n);n=r,e.config=r}catch(o){return console.error("Config is not json or is unavailable"),void console.error(n)}"undefined"!=typeof e.config&&("undefined"!=typeof e.config.options.useRouting&&e.config.options.useRouting&&l(),"undefined"!=typeof e.config.options.useMVC&&e.config.options.useMVC&&e.bindData())},o=function(e){console.error(e),alert(e)};"undefined"!=typeof t?n.get(t,null,r,o):console.error("Configuration file undefined")}}function a(){var e=this;this.collection=[],this.add=function(e,t){var n={};n.name=e,n.currentValue=w.returnValue(e),n["function"]=t,this.collection.push(n)};var t=function(){var t=function(e,t,n){var r=w.returnValue(e.name);r!=e.currentValue&&(e["function"](e.name),e.currentValue=r)};e.collection.forEach(t)};setInterval(t,200)}function i(){this.showAlert=function(e,t,n){"undefined"==typeof navigator.notification?alert(e):navigator.notification.alert(e,null,t,n)},this.showConfirm=function(e,t){if(null===navigator.notification){var n=confirm(e);t(n?1:2)}else navigator.notification.confirm(e,t,"Confirmar",["Si","No"])}}function l(){var e=this;e.onEnter=function(e,t){e.onkeyup=function(){var e=event;13==e.keyCode&&t()}},e.get=function(e){var t=document.querySelectorAll(e);return 1==t.length?t[0]:t},e.getAll=function(e){var t=document.querySelectorAll(e);return t},e.getById=function(e){return document.getElementById(e)},e.getFile=function(e,t){var n=null;if(e.files&&e.files[0]){n={},n.name=e.files[0].name,n.type=e.files[0].type,n.size=e.files[0].size,n.inputName=e.name,n.data=null;var r=new FileReader;r.onload=function(e){n.data=e.target.result,"undefined"!=typeof t&&t(n)},r.readAsDataURL(e.files[0])}return n},e.getInputsValues=function(){var e=document.getElementsByTagName("input"),t=document.getElementsByTagName("select"),n={},r=function(e,t,r){n[e.id]=e.value};return e.forEach(r),t.forEach(r),n},e.validateInputs=function(){var t=e.get("input"),n=!0,r="",o=function(e,t,o){if(n=n&&e.checkValidity(),e.checkValidity()===!1){var a=e.getAttribute("title");null!==a&&(r+=a+"\r\n")}};return Array.prototype.forEach.call(t,o),n||E.showAlert(r,"Error","Ok"),n},e.getSelect=function(e,t,n,r){var o=document.createElement("select");o.id=e,o.name=e;var a=function(e,t,a){var i=document.createElement("option");i.value=e[n],i.innerHTML=e[r],o.appendChild(i)};return t.forEach(a),o},e.populateSelect=function(t,n,r,o,a){var i=function(n,i,l){var u=e.create("option");u.value=n[r],u.innerHTML=n[o],"undefined"!=typeof a&&null!==a&&a===n[r]&&(u.selected=!0),t.appendChild(u)};n.forEach(i)},e.create=function(t){var n=document.createElement(t);return"undefined"!=typeof w.config&&null!==w.config&&"undefined"!=typeof w.config.options.useMVC&&w.config.options.useMVC&&e.setMVCListener(n),n},e.setMVCListener=function(e){var t=function(e,t){var n=t.split(".");if(n.length>1){var r=n[n.length-1];n.pop();var o=n.join(".");w.evalUndefined(o)&&w.assignValue(o,"{}");var a="_"+r;w.assignValue(o+"."+a,null);var i=function(){return this[a]},l=function(t){this[a]=t;var n=e.nodeName.toLowerCase();"img"==n?e.src=t:e.value=t};w.defineSetter(o,r,l),w.defineGetter(o,r,i)}},n=function(){var e=this,t=e.getAttribute("data-bind");if(null!==t){var n=e.nodeName.toLowerCase(),r=e.getAttribute("type"),o=null;o="input"==n&&"checkbox"==r?e.checked:"select"==n?e.value:e.value;var a=w.returnValue(t);if(a!=o){w.assignValue(t,o);var i=document.querySelectorAll("[data-bind='"+t+"']"),l=(i.length,function(e,r,o){n=e.nodeName.toLowerCase(),"select"==n?e.value=w.returnValue(t):e.innerHTML=w.returnValue(t)});Array.prototype.forEach.call(i,l)}}};switch(e.nodeName.toLowerCase()){case"input":var r=e.getAttribute("type");switch(r){case"text":e.addEventListener("keyup",n),e.addEventListener("blur",n);break;case"email":e.addEventListener("keyup",n),e.addEventListener("blur",n);break;case"password":e.addEventListener("keyup",n),e.addEventListener("blur",n);break;case"date":e.addEventListener("change",n),e.addEventListener("blur",n);break;case"time":e.addEventListener("change",n),e.addEventListener("blur",n);break;case"checkbox":e.addEventListener("change",n);break;case"radio":e.addEventListener("change",n)}break;case"textarea":e.addEventListener("keyup",n),e.addEventListener("blur",n);break;case"select":e.addEventListener("change",n)}var o=e.getAttribute("data-bind"),a=e.getAttribute("data-bind-mode");null!==a&&t(e,o),w.assignValue(o,null)},e.bindData=function(){var e=this,t=function(t,n,r){e.setMVCListener(t)},n=document.querySelectorAll("input, textarea, select, img");Array.prototype.forEach.call(n,t);var r=document.querySelectorAll("select[data-source]"),o=function(t,n,r){var o=t.getAttribute("data-value-field"),a=t.getAttribute("data-display-field"),i=t.getAttribute("data-source"),l=t.getAttribute("data-bind");i=w.returnValue(i);var u=w.returnValue(l);e.populateSelect(t,i,o,a,u)};Array.prototype.forEach.call(r,o);var a=document.querySelectorAll("[data-bind],[data-source]"),i=(a.length,function(t,n,r){var o=t.nodeName.toLowerCase(),a=t.getAttribute("data-bind");if("select"==o||"input"==o||"textarea"==o)w.evalUndefined(a)||(t.value=w.returnValue(a));else if("img"==o)t.src=w.returnValue(a);else if("table"==o){if(a=t.getAttribute("data-source"),!w.evalUndefined(a)){var i=t.querySelectorAll("tr > th"),l={},u=[],c={};null!==t.getAttribute("class")&&(l["class"]=t.getAttribute("class"));var s=function(e,t,n){c={};var r=e.getAttribute("data-field-type");switch(c.type=r,r){case"text":c.name=e.getAttribute("data-field"),c.header=e.getAttribute("data-header"),u.push(c);break;case"textbox":c.name=e.getAttribute("data-field"),c.header=e.getAttribute("data-header"),u.push(c);break;case"select":c.name=e.getAttribute("data-field"),c.header=e.getAttribute("data-header"),c.source=e.getAttribute("data-source"),c.valueField=e.getAttribute("data-value-field"),c.displayField=e.getAttribute("data-display-field"),u.push(c);break;case"hyperlink":c.name=e.getAttribute("data-field"),c.header=e.getAttribute("data-header"),c.urlFormatFields=e.getAttribute("data-url-fields"),c.text=e.getAttribute("data-text"),c.urlFormat=e.getAttribute("data-url-format"),c.onclickFormatFields=e.getAttribute("data-onclick-fields"),c.onclickFormat=e.getAttribute("data-onclick-format"),null!==c.onclickFormatFields&&(c.onclickFormatFields=c.onclickFormatFields.split(",")),null!==c.urlFormatFields&&(c.urlFormatFields=c.urlFormatFields.split(",")),u.push(c)}};i.forEach(s),t.clear();var d=w.returnValue(a);l.columns=u;var f=e.getTableFromData(d,l);e.replaceTable(t,f)}}else t.innerHTML=w.returnValue(a)});Array.prototype.forEach.call(a,i)},e.replaceTable=function(e,t){e.parentNode.replaceChild(t,e)},e.bind=function(e){var t=document.querySelectorAll("[data-bind]"),n=(t.length,function(t,n,r){var o=t.nodeName.toLowerCase(),a=t.getAttribute("data-bind");a==e&&(w.evalUndefined(a)||("select"==o||"input"==o||"textarea"==o?t.value=w.returnValue(a):t.innerHTML=w.returnValue(a)))});Array.prototype.forEach.call(t,n)},e.addModel=function(e,t){var n=function(e){console.log(e+" has changed")};"RSObject"!=t.constructor&&(t=new r(t));var o=function(t,r,o){b.add(e+"."+r,n)};t.forEach(o),window[e]=t},e.getTableFromData=function(t,n){var r=function(){var e=this,t=[];return e.forEachRow(function(e,n,r){e.forEachCell(function(n,r,o){n.childNodes.forEach(function(n,r,o){"checkbox"==n.type&&n.checked&&t.push(e)})})}),t},o=function(e){var t=this,n=null,r=t.cells,o=0;for(o=0;o<r.length;o++)n=r[o],e(n,o,r)},a=function(e){var t=this,n=null,r=t.rows,o=0;for(o=0;o<r.length;o++)n=r[o],e(n,o,r)};if("undefined"==typeof t)return console.error("Table data is undefined"),void E.showAlert("Los datos no estan definidos","Error","Ok");if(t.length>0){var i=e.create("table");i.forEachRow=a,i.checkedRows=r,i.sort=function(e,t){"undefined"==typeof t&&(t="asc")},"undefined"!=typeof n&&("undefined"!=typeof n["class"]&&i.addClass(n["class"]),"undefined"!=typeof n.id&&(i.id=n.id));var l=t[0],u=Object.keys(l),c=null,s=function(){for(i.rows.length;i.rows.length>1;)i.deleteRow(1)},d=function(n,r,o){c=e.create("th"),c.setAttribute("data-sort","asc"),c.style.cursor="pointer";var a=n+g;"undefined"!=typeof n.name&&(a=n.name+g),"undefined"!=typeof n.header&&(a=n.header+g),c.addText(a);var i=function(){var e=this,r=e.getAttribute("data-sort"),o="",a=n;"undefined"!=typeof n.name&&(a=n.name),"asc"==r?(r="desc",o=m,t.sortDesc(a)):(r="asc",o=g,t.sortAsc(a)),e.setAttribute("data-sort",r),a+=o,"undefined"!=typeof n.header&&(a=n.header+o),e.innerText=a,s(),t.forEach(f)};c.addEventListener("click",i),p.appendChild(c)},f=function(t,r,a){var l=function(n,r,o){var a=e.create("td");a.addText(t[n]),p.appendChild(a)},c=function(o,a,i){var l=t,u=e.create("td");switch(o.type){case"checkbox":var c=e.create("input");c.type="checkbox",c.id=o.name+"_"+r,c.value=l[o.name],u.appendChild(c);break;case"text":"undefined"!=typeof o.transform&&"function"==typeof o.transform?u.addText(o.transform(l[o.name])):"undefined"!=typeof n.isNull?null===l[o.name]&&u.addText(n.isNull):u.addText(l[o.name]);break;case"textbox":var s=e.create("input");s.type="text",s.value=l[o.name],u.appendChild(s);break;case"select":break;case"hyperlink":var d=e.create("a"),f=o.dataTextFormat,h=o.dataTextFormatFields,v=o.text;if("undefined"==typeof o.text&&null!==f&&"undefined"!=typeof f)if(null!==h&&"undefined"!=typeof h){var y=function(e,t,n){var r="@"+e;f=f.replace(r,l[e])};h.forEach(y),v=f}else v=f;d.appendChild(document.createTextNode(v));var g=o.urlFormat,m=o.urlFormatFields,w="#";if(null!==g&&"undefined"!=typeof g)if(null!==m&&"undefined"!=typeof m){var y=function(e,t,n){var r="@"+e;g=g.replace(r,l[e])};m.forEach(y),w=g}else w=g;d.href=w;var b=o.onclickFormat,E=o.onclickFormatFields,C="";if(null!==b&&"undefined"!=typeof b)if(null!==E&&"undefined"!=typeof E){var y=function(e,t,n){var r="@"+e;b=b.replace(r,l[e])};E.forEach(y),C=b}else C=b;d.setAttribute("onclick",C),u.appendChild(d);break;case"hidden":var S=e.create("input");S.type="hidden",S.value=l[o.name],u.appendChild(S);break;case"textarea":var x=e.create("textarea");x.value=l[o.name],u.appendChild(x);break;case"image":var k=e.create("img");if(g=o.urlFormat,m=o.urlFormatFields,w="#",null!==g)if(null!==m){var y=function(e,t,n){var r="@"+e;g=g.replace(r,l[e])};m.forEach(y),w=g}else w=g;k.src=w,k.style.height=o.height,k.style.width=o.width,u.appendChild(k)}p.appendChild(u)};if(p=e.create("tr"),p.forEachCell=o,p.data=t,"undefined"!=typeof n&&"undefined"!=typeof n.onclick){var s=function(){n.onclick(t)};p.addEventListener("click",s)}"undefined"!=typeof n&&"undefined"!=typeof n.columns?n.columns.forEach(c):u.forEach(l),"undefined"!=typeof n&&"undefined"!=typeof n.backgroundColorField&&(p.style.backgroundColor=t[n.backgroundColorField]),console.log("tr",p.forEachCell),i.appendChild(p)},p=e.create("tr");return p.setAttribute("data-rowheader",!0),p.forEachCell=o,p.data=u,"undefined"!=typeof n&&"undefined"!=typeof n.columns?n.columns.forEach(d):u.forEach(d),i.appendChild(p),t.forEach(f),i}},e.setDataTable=function(t,n,r){var o=e.getTableFromData(n,r),a=e.getById(t);return a.clear(),o.addClass("table table-hover"),a.appendChild(o),o},e.DataTable=function(t,n,r){var o=this;return o=e.setDataTable(t,n,r)}}function u(){this.set=function(e,t){"object"==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},this.remove=function(e){window.localStorage.removeItem(e)};var e=function(){var e=0,t=localStorage.length,n={};for(e=0;t>e;++e){var r=localStorage.getItem(localStorage.key(e)),o={};JSON.tryParse(r,o)?n[localStorage.key(e)]=o:n[localStorage.key(e)]=r}return n};this.get=function(t){if("undefined"==typeof t)return e();if(null===window.localStorage.getItem(t))return console.log("Item "+t+" do not exists"),null;var n={},r=window.localStorage.getItem(t);return JSON.tryParse(r,n)?n.data:r},this.exists=function(e){return null!==window.localStorage.getItem(e)}}function c(){this.Lat=0,this.Lng=0,this.LatLng=null,this.Geocode=[],this.StreetNumber="",this.Route="",this.SubLocality="",this.City="",this.State="",this.Country="",this.PostalCode="",this.Address=""}function s(){var e=null;this.onError=function(e){E.showAlert("Hubo problemas obteniendo la posicion")},this.onSuccessGetPosition=function(t){S.remove("currentGeoPosition");var n=new c;n.Lat=parseFloat(t.coords.latitude),n.Lng=parseFloat(t.coords.longitude),n.LatLng=new google.maps.LatLng(n.Lat,n.Lng),this.coder=new google.maps.Geocoder,this.coder.geocode({latLng:n.LatLng},function(t,r){if(r==google.maps.GeocoderStatus.OK)if(t[0]){var o=t[0].address_components,a=0;for(a=0;a<o.length;a++)switch(o[a].types[0]){case"street_number":n.StreetNumber=o[a].long_name;break;case"route":n.Route=o[a].long_name;break;case"sublocality_level_1":n.SubLocality=o[a].long_name;break;case"locality":n.City=o[a].long_name;break;case"administrative_area_level_1":n.State=o[a].long_name;break;case"country":n.Country=o[a].long_name;break;case"postal_code":n.PostalCode=o[a].long_name}n.Address=n.Route+", "+n.StreetNumber+", "+n.SubLocality+", "+n.City+", "+n.State+", "+n.Country,S.set("currentGeoPosition",JSON.stringify(n)),e(n)}else E.showAlert("No results found","Error","Ok");else E.showAlert("Geocoder failed due to: "+r,"Error","Ok")})},this.getPositionAddress=function(t){e=t,navigator.geolocation.getCurrentPosition(this.onSuccessGetPosition,this.onError)}}function d(){var e=this,t=new r;this.setHeader=function(e,n){t[e]=n},this.getHeaders=function(){return t},this.clearHeaders=function(){t={}},this.get=function(t,n,r,o){e.request("GET",t,n,r,o)},this.post=function(t,n,r,o){e.request("POST",t,n,r,o)},this.put=function(t,n,r,o){e.request("PUT",t,n,r,o)},this["delete"]=function(t,n,r,o){e.request("DELETE",t,n,r,o)},this.head=function(t,n,r,o){e.request("HEAD",t,n,r,o)},this.postMultiPart=function(e,t){var n=new XMLHttpRequest;n.open("post",e.action,!0),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e={};e.headers={};var r=n.getAllResponseHeaders();r=r.split("\n");var o=function(t,n,r){if(""!==t){var o=t.split(": ");e.headers[o[0].trim()]=o[1].trim()}};r.forEach(o),e.status=n.status,"application/json"==e.headers["Content-Type"]?e.data=JSON.parse(n.response):e.data=n.response,t(e)}};var r=new FormData(e);n.send(r)},this.request=function(e,n,o,a,i){var l=null;l="undefined"==typeof i?function(e){console.error(e)}:i;var u=function(){if(4==c.readyState)if(200==c.status){var e={};e.headers={};var t=c.getAllResponseHeaders();t=t.split("\n");var n=function(t,n,r){if(""!==t){var o=t.split(": ");e.headers[o[0].trim()]=o[1].trim()}};t.forEach(n),e.status=c.status,"application/json"==e.headers["Content-Type"]?e.data=JSON.parse(c.response):e.data=c.response,a(e)}else l(c)},c=new XMLHttpRequest;c.onreadystatechange=u;var s=function(){var e=function(e,t,n){c.setRequestHeader(t,e)};t.forEach(e)},d=null,f=!1;"undefined"!=typeof o&&null!==o&&(String(o.constructor).contains("function File()")?(d=o,f=!0):(o=new r(o),d=o.serialize())),"GET"==e?(""!==d&&(n=n+"?"+d),c.open(e,n,!0),s(),c.send()):(c.open(e,n,!0),f?(s(),c.setRequestHeader("Content-type","multipart/form-data; boundary=blob"),c.send(d)):(c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s(),c.send(d)))}}function f(e){var t=this;t.contentId=e,t.content=C.getById(t.contentId),t.httpR=null,t.setHttp=function(){null===this.httpR&&("undefined"!=typeof x?this.httpR=x:this.httpR=new d)},t.setHttp(),t.setContent=function(){t.content=C.getById(t.contentId)},t.loadUrl=function(e,n,o){t.setContent(),("object"==typeof n||null===n)&&(n=new r(n));var a=function(e){var r=String(e.data);r=t.populateTemplate(r,n),t.content.innerHTML=r,C.bindData(),"undefined"!=typeof o&&o()};this.httpR.post(e,null,a)},t.loadTemplate=function(e,n){("object"==typeof n||null===n)&&(n=new r(n));var o=C.getById(e).innerHTML;t.loadHTML(o,n),C.bindData()},t.loadHTML=function(e,n){t.setContent(),e=t.populateTemplate(e,n),t.content.innerHTML=e,C.bindData()},t.populateTemplate=function(e,n){if("undefined"!=typeof n&&null!==n){if("undefined"!=typeof n.length){var o="",a=function(n,r,a){o+=t.populateTemplate(e,n)};return n.forEach(a),o}if(null!==n){n=new r(n);var i=JSON.stringify(n);i=i.encodeUri(),e=e.replaceAll("$itemJson",i);var l=function(t,n,r){var o="$"+n;e=e.replaceAll(o,t)};n.forEach(l)}}var u=new RegExp("\\$[a-zA-Z0-9]+","gi"),c=e.match(u),s=function(t,n,r){var o=t.replace("$","");"undefined"!=typeof window[o]&&(e=e.replaceAll(t,window[o]))};return null!==c&&c.forEach(s),e}}function p(){this.timestamp=function(){return Math.floor(Date.now()/1e3)},this.getDateParts=function(e){var t=new Date;"undefined"!=typeof e&&(t=new Date(e));var n=t.getUTCMonth()+1,r=t.getUTCDate(),o=t.getUTCFullYear(),a=t.getUTCHours(),i=t.getUTCMinutes(),l=t.getUTCSeconds();n="00"+n,n=String(n).right(2),r="00"+r,r=String(r).right(2),a="00"+a,a=String(a).right(2),i="00"+i,i=String(i).right(2),l="00"+l,l=String(l).right(2);var u=a+":"+i+":"+l,c=o+"/"+n+"/"+r,s={};return s.year=o,s.month=n,s.day=r,s.hour=a,s.date=c,s.minutes=i,s.seconds=l,s.time=u,s}}function h(){var e=this;e.set=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString(),a=e+"="+t+"; expires="+o;document.cookie=a},e["delete"]=function(t){var n=e.get(t);if(null===n)return null;var r=function(e){var t="Thu, 01 Jan 1970 00:00:01 GMT",n=e+"=0; expires="+t;document.cookie=n,n=e+"=0; path=/;domain="+window.location.host+"; expires="+t,document.cookie=n};if("undefined"!=typeof n.length){if(!(n.length>0))return null;var o=function(e,t,n){r(e.name)};n.forEach(o)}else r(t)},e.get=function(e){if(""===document.cookie)return null;var t=document.cookie.split("; "),n=[],r=!1,o=null,a=function(t,a,i){var l=t.split("="),u={};if(u.name=l[0],u.value=l[1],"undefined"!=typeof e){if(e==u.name)return o=u,void(r=!0)}else n.push(u)};return t.forEach(a),r?o:"undefined"!=typeof e?null:n}}function v(){var e=this,t=C.getById("modal"),n=C.getById("modalContent");e.getContainer=function(){return t};var r=function(){if(null===t&&(t=C.create("div"),t.id="modal",t.addClass("modal")),null===n&&(n=C.create("div"),n.id="modalContent",n.addClass("modalContent"),t.appendChild(n)),null===C.getById("modal")){var e=C.get("body");e.appendChild(t)}};w.onReady(r),e.showUrl=function(e,r){n.style.width="70%",n.style.height="70vh",n.style.marginTop="20vh",n.clear();var o=new f("modalContent");"undefined"!=typeof r?o.loadUrl(e,r):o.loadUrl(e),t.style.display="block",x.post(e,null,function(e){console.log(e.data);var o,a="";"undefined"!=typeof r?(o=new f,a=o.populateTemplate(e.data,r),console.log("temp",a)):a=e.data,n.innerHTML=a,t.style.display="block"})},e.showTemplate=function(e,r){n.style.width="70%",n.style.height="70vh",n.style.marginTop="20vh",n.clear();var o=C.getById(e),a="";if("undefined"!=typeof r){var i=new f;a=i.populateTemplate(o.innerHTML,r)}else a=o.innerHTML;n.innerHTML=a,t.style.display="block"},e.showInfo=function(e,t,n){},e.showWait=function(e){n.style.width="50%",n.style.height="25vh",n.style.marginTop="25vh",n.clear(),"undefined"==typeof e&&(e="Espere, por favor");var r=document.createTextNode(e);n.appendChild(r),t.style.display="block"},e.hide=function(){t.style.display="none",n.clear()}}e.prototype.ruleName="",e.prototype.addProperty=function(e,t){var n=this;n.properties[e]=t},e.prototype.toString=function(){var e="."+this.ruleName+" {\n",t=Object.keys(this.properties),n=t.length,r=0;for(r=0;n>r;r++)e+=t[r]+": "+this.properties[t[r]]+";",e+="\n";return e+="}"},t.prototype.name="",t.prototype.from=null,t.prototype.to=null,t.prototype.toString=function(){var e="@keyframes "+this.name+" {\n@from\n@to\n}",t=this.from.toString(),n=this.to.toString();t=t.replace(".from","from"),n=n.replace(".to","to"),e=e.replace("@from",t),e=e.replace("@to",n);var r="@-webkit-keyframes "+this.name+" {\n@from\n@to\n}";return r=r.replace("@from",t),r=r.replace("@to",n),e+"\n"+r},n.prototype.classes=[],n.prototype.addClass=function(e){this.classes.push(e)},n.prototype.toString=function(){var e,t=this.classes.length,n="";for(e=0;t>e;e++)n+=this.classes[e].toString()+"\n\n";return n},n.prototype.setStyle=function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=this.toString(),document.getElementsByTagName("head")[0].appendChild(e)},Date.now||(Date.now=function(){return(new Date).getTime()}),JSON.tryParse=function(e,t){try{return t.data=JSON.parse(e),!0}catch(n){return!1}};document.createElement("textarea");if(String.prototype.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},String.prototype.escapeHTML=function(){var e=this;if("undefined"==typeof t)var t=document.createElement("textarea");return t.textContent=e,t.innerHTML},String.prototype.unescapeHTML=function(){var e=this;if("undefined"==typeof t)var t=document.createElement("textarea");return t.innerHTML=e,t.textContent},String.prototype.encodeUri=function(){return encodeURIComponent(this)},String.prototype.decodeUri=function(){return decodeURIComponent(this)},String.prototype.base64Encode=function(){var e=this;e=e.encodeUri();var t=function(e,t){return String.fromCharCode("0x"+t)};return e=e.replace(/%([0-9A-F]{2})/g,t),btoa(e)},String.prototype.base64Decode=function(){var e=this;try{e=atob(e)}catch(t){return void console.error("No base 64 data")}var n=function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)};return e=Array.prototype.map.call(e,n),e=e.join(""),e=e.decodeUri()},String.prototype.escapeRegExp=function(){return this.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e.escapeRegExp(),"g"),t)},String.prototype.left=function(e){return 0>=e?"":e>this.length?this:this.substring(0,e)},String.prototype.right=function(e){if(0>=e)return"";if(e>this.length)return this;var t=this.length;return this.substring(t,t-e)},String.prototype.contains=function(e){return this.indexOf(e)>-1},String.prototype.toHex=function(){var e,t="0x";for(e=0;e<this.length;e++)t+=""+this.charCodeAt(e).toString(16);return t},String.prototype.fromHex=function(e){e=e.toString();var t,n="";for(t=0;t<e.length;t+=2)n+=String.fromCharCode(parseInt(e.substr(t,2),16));return n},HTMLElement.prototype.hide=function(){this.style.display="none"},HTMLElement.prototype.show=function(){this.style.display="block"},HTMLElement.prototype.hasClass=function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)"),n=this.className.match(t);return null!==n},HTMLElement.prototype.addClass=function(e){this.hasClass(e)||(this.className+=" "+e)},HTMLElement.prototype.removeClass=function(e){if(this.hasClass(e)){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.className=this.className.replace(t," ")}},HTMLElement.prototype.addText=function(e){var t=document.createTextNode(e);this.appendChild(t)},HTMLElement.prototype.clear=function(){for(;this.firstChild;)this.removeChild(this.firstChild)},HTMLElement.prototype.animate=function(r){var o=this,a=new n,i=new e("animateclass"+r.name);i.addProperty("-webkit-animation-name",r.name),i.addProperty("-webkit-animation-duration",r.duration),i.addProperty("animation-name",r.name),i.addProperty("animation-duration",r.duration),i.addProperty("animation-fill-mode","forwards"),i.addProperty("-webkit-animation-fill-mode","forwards"),a.addClass(i);var l=new t(r.name),u=Object.keys(r.from),c=0;for(c=0;c<u.length;c++)l.from.addProperty(u[c],r.from[u[c]]);for(u=Object.keys(r.to),c=0,c=0;c<u.length;c++)l.to.addProperty(u[c],r.to[u[c]]);a.addClass(l),a.setStyle(),o.removeClass(i.className),void o.offsetWidth,o.addClass(i.className)},Math.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Array.prototype.getUnique=function(){for(var e={},t=[],n=0,r=this.length;r>n;++n)e.hasOwnProperty(this[n])||(t.push(this[n]),e[this[n]]=1);return t},Array.prototype.encodeUri=function(){var e=JSON.stringify(this);return encodeURIComponent(e)},Array.prototype.where=function(e,t){var n=this,r=[],o=function(n,o,a){n[e]==t&&r.push(n)};return n.forEach(o),r},Array.prototype.andWhere=function(e,t){var n=this,r=[],o=function(n,o,a){n[e]==t&&r.push(n)};return n.forEach(o),r},Array.prototype.first=function(){return this[0]},Array.prototype.like=function(e,t){var n=this,r=[],o=function(n,o,a){String(n[e]).contains(t)&&r.push(n)};return n.forEach(o),r},Array.prototype.andLike=function(e,t){var n=this,r=[],o=function(n,o,a){String(n[e]).contains(t)&&r.push(n)};return n.forEach(o),r},Array.prototype.indexOf=function(e,t){var n=this,r=-1,o=function(n,o,a){n[e]==t&&(r=o)};return n.forEach(o),r},Array.prototype.contains=function(e){var t=this,n=!1,r=function(t,r,o){t==e&&(n=!0)};return t.forEach(r),n},"undefined"==typeof Array.prototype.forEach){var y=this;Array.prototype.forEach=function(e){var t,n;for(n=y.length,t=0;n>t;t++)e(y[t],t,y)}}Array.prototype.sortAsc=function(e){var t=this;if(0===t.length)return void console.warn("No data to sort",t,e);var n=t[0];"undefined"==typeof n[e]&&console.error(e+" no part of object.",t),window.__tempFilter=e;var r=function(e){return Math.isNumeric(e)?1*e:e},o=function(e,t){var n=window.__tempFilter,o=e[n],a=t[n],i=r(o)-r(a);return i},a=function(e,t){var n=window.__tempFilter,r=e[n],o=t[n],a=r.localeCompare(o);return a};return Math.isNumeric(n[e])?t.sort(o):t.sort(a)},Array.prototype.sortDesc=function(e){var t=this;if(0===t.length)return void console.warn("No data to sort",t,e);var n=t[0];"undefined"==typeof n[e]&&console.error(e+" no part of object.",t),window.__tempFilter=e;var r=function(e){return Math.isNumeric(e)?1*e:e},o=function(e,t){var n=window.__tempFilter,o=e[n],a=t[n],i=r(a)-r(o);return i},a=function(e,t){var n=window.__tempFilter,r=e[n],o=t[n],a=o.localeCompare(r);return a};return Math.isNumeric(n[e])?t.sort(o):t.sort(a)};var g=" "+"&#8679;".unescapeHTML(),m=" "+"&#8681;".unescapeHTML();r.prototype.forEach=function(e){var t,n=this,r=Object.keys(n),o=r.length;for(t=0;o>t;t++){var a=typeof n[r[t]];"function"!=a&&"undefined"!=a&&e(n[r[t]],r[t],n)}},r.prototype.encodeUri=function(){var e=JSON.stringify(this);return encodeURIComponent(e)},r.prototype.decodeUri=function(){var e=JSON.stringify(this);return decodeURIComponent(e)},r.prototype.exists=function(e){var t=!0;return t="undefined"!=typeof e},r.prototype.isNull=function(e){return null===e},r.prototype.isSet=function(e){var t=!1;if(e){t=!0;var n=Object.prototype.toString.call(e);n=n.replace("[object ",""),n=n.replace("]","");var r=1;"Object"==n?r=Object.keys(e).length:"Array"==n&&(r=e.length),t=r>0?!0:!1}return t},r.prototype.addProperty=function(e,t,n){Object.defineProperty(e,t,{_x:null,get:function(){return _x},set:function(t){_x=t,"undefined"!=typeof n&&n(e)}})},r.prototype.serialize=function(){var e=[],t="",n=function(o,a,i){if("function"!=typeof o)if("object"==typeof o){t=a;var l=new r(o);l.forEach(n),t=""}else if(""!==t){var u=t+"["+a+"]="+o;e.push(u)}else e.push(a+"="+o)};return this.forEach(n),e.join("&")};var w=new o;w.object=new r;var b=new a,E=new i,C=new l,S=new u;window.geo=new s;var x=new d,k=new p;HTMLElement.prototype.loadUrl=function(e,t,n){var r=this;"undefined"==typeof r.id&&(r.id="htmlelement_"+"".UUID()),"undefined"==typeof r.view&&(r.view=new f(r.id)),r.view.loadUrl(e,t,n)},HTMLElement.prototype.loadTemplate=function(e,t){var n=this;"undefined"==typeof n.id&&(n.id="htmlelement_"+"".UUID()),"undefined"==typeof n.view&&(n.view=new f(n.id)),n.view.loadTemplate(e,t)},HTMLElement.prototype.loadHTML=function(e,t){var n=this;"undefined"==typeof n.id&&(n.id="htmlelement"+rand()),"undefined"==typeof n.view&&(n.view=new f(n.id)),n.view.loadHTML(e,t)},window.rs=w,window.watcher=b,window.dialog=E,window.dom=C,window.http=x,window.local=S,window.date=k,window.cookies=new h,window.modal=new v,window.View=f,window.View.populateTemplate=(new f).populateTemplate}();
